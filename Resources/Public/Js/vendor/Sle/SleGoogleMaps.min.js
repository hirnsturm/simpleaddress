var SleGoogleMaps={api:{mapsV3:function(){var c=null;var k=null;var g=null;var f=false;var h=[];var d=[];var e=[];var a={};var l={};var m={backgroundColor:"String",center:"google.maps.LatLng",disableDefaultUI:"Boolean",disableDoubleClickZoom:"Boolean",draggable:"Boolean",draggableCursor:"String",draggingCursor:"String",heading:"Number",keyboardShortcuts:"Boolean",mapMaker:"Boolean",mapTypeControl:"Boolean",mapTypeControlOptions:"google.maps.MapTypeControlOptions",mapTypeId:"google.maps.MapTypeId",maxZoom:"Number",minZoom:"Number",noClear:"Boolean",overviewMapControl:"Boolean",overviewMapControlOptions:"google.maps.OverviewMapControlOptions",panControl:"Boolean",panControlOptions:"google.maps.PanControlOptions",rotateControl:"Boolean",rotateControlOptions:"google.maps.RotateControlOptions",scaleControl:"Boolean",scaleControlOptions:"google.maps.ScaleControlOptions",scrollwheel:"Boolean",streetView:"google.maps.StreetViewPanorama",streetViewControl:"Boolean",streetViewControlOptions:"google.maps.StreetViewControlOptions",styles:"google.maps.MapTypeStyle",tilt:"Number",zoom:"Number",zoomControl:"Boolean",zoomControlOptions:"google.maps.ZoomControlOptions"};var b={center:new google.maps.LatLng(51.06966,13.778158),zoom:8};var n={keepSpiderfied:true};var i={msg:{IsNotJson:"Die angegebene Variable ist keine JSON!",MissingMapDataProperty:"Dem MapData-Object fehlen die benötigten Eigenschaften!",MissingMapCanvas:"Es wird ein Map-Canvas benötigt!",MissingMap:"Fehlende GoogleMaps Instanz!"}};this.initGoogleMaps=function(o){if(f===true){return this}if(!k){console.log(i.msg.MissingMapCanvas);return this}f=true;c=new google.maps.Map(k,b);this.applyMapData(o);for(var p in a){if(a.hasOwnProperty(p)){a[p].setMap(c)}}return this};this.applyMapData=function(q,r){if(!c){console.log(i.msg.MissingMap);return this}if(jQuery.isEmptyObject(l)||!l.points){console.log(i.msg.MissingMapDataProperty);return this}var q=(typeof q!=="boolean")?true:q;var r=(typeof r!=="boolean")?true:r;if(q){var p=new google.maps.LatLngBounds()}var y=(!jQuery.isEmptyObject(l)&&l.points)?Object.keys(l.points).length:0;var w=[];var z;var u;var A;var t;if(r){this.createOverlappingMarkerSpiderfier()}var x;var o;for(var v=0;v<y;v++){x=parseFloat(l.points[v].lat);o=parseFloat(l.points[v].lng);if(!isNaN(x)&&!isNaN(o)){u=new google.maps.LatLng(x,o);z=(l.points[v].title)?l.points[v].title:"";A=(l.points[v].icon)?l.points[v].icon:null;this.addMarker(u,z,A);t=d.length-1;if(q){p.extend(d[t].position)}d[t].setMap(c)}}if(q&&d.length>0){c.fitBounds(p);var s=google.maps.event.addListener(c,"zoom_changed",function(){if(c.getZoom()>b.zoom){c.setZoom(b.zoom)}google.maps.event.removeListener(s)})}};this.closeInfoWindows=function(){if(h.length>0){h[0].set("marker",null);h[0].close();h.length=0}};this.setMapOptions=function(o){if(o){if(SleGoogleMaps.functions.convertDataType(o,m)){b=o}}return this};this.addMapOptions=function(o){if(o){if(SleGoogleMaps.functions.convertDataType(o,m)){jQuery.extend(b,o)}}return this};this.getMapOptions=function(){return b};this.setMapData=function(q,o){try{if(o===true){l=q}else{l=jQuery.parseJSON(jQuery(q).val())}}catch(p){console.log(i.msg.IsNotJson)}if(jQuery.isEmptyObject(l)||!l.points){console.log(i.msg.MissingMapDataProperty)}else{if(l.mapOptions){this.addMapOptions(l.mapOptions)}}return this};this.setMapCanvas=function(o){k=jQuery(o).get(0);return this};this.addLayers=function(o){if(typeof o==="object"){for(var p in o){a[p]=new google.maps.KmlLayer({url:o[p],preserveViewport:true})}}return this};this.removeLayer=function(o){if(o&&a.key){delete a.key}return this};this.addMarker=function(o,s,r,q){if(!c){console.log(i.msg.MissingMap);return this}var p=this;d.push(new google.maps.Marker({position:o,title:s,icon:r,map:c}));j=d.length-1;if(g){g.addMarker(d[j])}if(q!==false){var q=(q)?q:l.points[j].windowContent;google.maps.event.addListener(d[j],"click",function(t){return function(){p.closeInfoWindows();var u=new google.maps.InfoWindow({content:q});u.open(c,d[t]);h[0]=u}}(j))}return this};this.setAllMarkersMap=function(p){for(var o=d.length-1;o>=0;o--){d[o].setMap(p)}return this};this.clearMarkers=function(){this.setAllMarkersMap(null);return this};this.deleteMarkers=function(){this.clearMarkers();d=[];return this};this.showMarkers=function(){if(c){this.setAllMarkersMap(c)}return this};this.createOverlappingMarkerSpiderfier=function(){if(c){g=new OverlappingMarkerSpiderfier(c,n)}return this};this.getOMSOptions=function(){return n};this.drawPolyline=function(s,u,q){var t=[];if(u){l.routes[s]=jQuery.parseJSON(u)}var o=(!jQuery.isEmptyObject(l)&&!jQuery.isEmptyObject(l.routes)&&l.routes[s])?Object.keys(l.routes[s]).length:0;for(var r=0;r<o;r++){if(!l.routes[s][r].lat||!l.routes[s][r].lng){continue}t.push(new google.maps.LatLng(parseFloat(l.routes[s][r].lat),parseFloat(l.routes[s][r].lng)))}var p={path:t,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2};if(q){jQuery.extend(p,q)}e[s]=new google.maps.Polyline(p);if(c){e[s].setMap(c)}return this}}},functions:{convertDataType:function(g,c){if(!c||typeof g!=="object"){return false}var k=true;for(var f in g){if(!c[f]){continue}var b=c[f].split(".");var d;d=window[b[0]];for(var a=1;a<b.length;a++){d=d[b[a]]}if(g[f] instanceof d||typeof g[f]===d){continue}if(typeof g[f]!==d){try{g[f]=d(g[f])}catch(h){try{g[f]=new d()}catch(h){console.log("Cannot convert "+g[f]+" to "+d);k=false}}}}return k}}};